{"ast":null,"code":"import axios from \"axios\";\n// For redirect to links\nimport { mapActions } from \"vuex\";\nimport Navbar from '@/components/Header/Navbar.vue';\nimport UserLocations from \"../components/Locations/UserLocations.vue\";\nexport default {\n  name: \"HomeView\",\n  data() {\n    return {\n      userName: \"\",\n      userId: \"\",\n      listOfLocations: []\n    };\n  },\n  components: {\n    Navbar,\n    AddNewLocation,\n    UserLocations\n  },\n  async mounted() {\n    let user = localStorage.getItem('user-info');\n    if (!user) {\n      // Using name in router file\n      this.redirectTo({\n        val: 'sign-up'\n      });\n    } else {\n      this.userName = JSON.parse(user).name;\n      this.userId = JSON.parse(user).id;\n    }\n    let result = await axios.get(`http://localhost:3000/locations?userId=${this.userId}`);\n    if (result.status == 200 && result.data.length > 0) {\n      // console.log(result.data);\n      this.listOfLocations = result.data;\n    }\n  },\n  methods: {\n    ...mapActions([\"redirectTo\"])\n  }\n};","map":{"version":3,"mappings":"AAmBA,OAAOA,KAAI,MAAO,OAAO;AACzB;AACA,SAASC,UAAS,QAAS,MAAM;AACjC,OAAOC,MAAK,MAAO,gCAAgC;AACnD,OAAOC,aAAY,MAAO,2CAA2C;AACrE,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAI,GAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EACDC,UAAU,EAAE;IAAEP,MAAM;IAAEQ,cAAc;IAAEP;EAAc,CAAC;EACrD,MAAMQ,OAAO,GAAG;IACd,IAAIC,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAC5C,IAAI,CAACF,IAAI,EAAE;MACT;MACA,IAAI,CAACG,UAAU,CAAC;QAAEC,GAAG,EAAE;MAAU,CAAC,CAAC;IACrC,OAAO;MACL,IAAI,CAACV,QAAO,GAAIW,IAAI,CAACC,KAAK,CAACN,IAAI,CAAC,CAACR,IAAI;MACrC,IAAI,CAACG,MAAK,GAAIU,IAAI,CAACC,KAAK,CAACN,IAAI,CAAC,CAACO,EAAE;IACnC;IACA,IAAIC,MAAK,GAAI,MAAMpB,KAAK,CAACqB,GAAG,CAAE,0CAAyC,IAAI,CAACd,MAAO,EAAC,CAAC;IACrF,IAAIa,MAAM,CAACE,MAAK,IAAK,GAAE,IAAKF,MAAM,CAACf,IAAI,CAACkB,MAAK,GAAI,CAAC,EAAE;MAClD;MACA,IAAI,CAACf,eAAc,GAAIY,MAAM,CAACf,IAAI;IACpC;EACF,CAAC;EACDmB,OAAO,EAAE;IACP,GAAGvB,UAAU,CAAC,CAAC,YAAY,CAAC;EAC9B;AACF,CAAC","names":["axios","mapActions","Navbar","UserLocations","name","data","userName","userId","listOfLocations","components","AddNewLocation","mounted","user","localStorage","getItem","redirectTo","val","JSON","parse","id","result","get","status","length","methods"],"sourceRoot":"","sources":["/opt/lampp/htdocs/rest-sys-2021/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <Navbar />\n    <p class=\"text-end\">\n      Welcome {{ userName }}\n      <router-link :to=\"{ name: 'profile' }\">\n        <button class=\"btn btn-info text-white\" type=\"button\">Profile</button>\n      </router-link>\n    </p>\n    <router-link :to=\"{ name: 'add-new-location' }\">\n    <button type=\"button\" class=\"btn btn-primary\">\n      Add New Restaurant\n    </button>\n  </router-link>\n  <UserLocations :allLocations=\"listOfLocations\"/>\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\n// For redirect to links\nimport { mapActions } from \"vuex\";\nimport Navbar from '@/components/Header/Navbar.vue';\nimport UserLocations from \"../components/Locations/UserLocations.vue\";\nexport default {\n  name: \"HomeView\",\n  data() {\n    return {\n      userName: \"\",\n      userId: \"\",\n      listOfLocations: [],\n    };\n  },\n  components: { Navbar, AddNewLocation, UserLocations },\n  async mounted() {\n    let user = localStorage.getItem('user-info');\n    if (!user) {\n      // Using name in router file\n      this.redirectTo({ val: 'sign-up' });\n    } else {\n      this.userName = JSON.parse(user).name;\n      this.userId = JSON.parse(user).id;\n    }\n    let result = await axios.get(`http://localhost:3000/locations?userId=${this.userId}`);\n    if (result.status == 200 && result.data.length > 0) { \n      // console.log(result.data);\n      this.listOfLocations = result.data;\n    }\n  },\n  methods: {\n    ...mapActions([\"redirectTo\"]),\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}