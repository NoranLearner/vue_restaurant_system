{"ast":null,"code":"import Navbar from '@/components/Header/Navbar.vue';\nexport default {\n  name: 'ViewCategories',\n  components: {\n    Navbar\n  },\n  data() {\n    return {\n      locId: this.$route.params.locationId,\n      userId: \"\",\n      locName: \"\",\n      locAddress: \"\"\n    };\n  },\n  computed: {\n    ...mapState([\"numOfCategories\", \"listOfCategories\"])\n  },\n  mounted() {\n    let user = localStorage.getItem('user-info');\n    if (!user) {\n      // Using name in router file\n      this.redirectTo({\n        val: 'sign-up'\n      });\n    } else {\n      this.userId = JSON.parse(user).id;\n      this.userName = JSON.parse(user).name;\n      this.displayAllCategories({\n        userIdIs: this.userId,\n        locationIdIs: this.locId\n      });\n      this.canUserAccessThisLocation({\n        userIdIs: this.userId,\n        locationIdIs: this.locId,\n        redirectToPage: \"home\"\n      });\n      this.getLocationInfo(this.userId, this.locId);\n    }\n  },\n  methods: {\n    ...mapMutations([\"isLoggedInUser\", \"displayAllCategories\", \"canUserAccessThisLocation\"]),\n    ...mapActions(['redirectTo']),\n    async getLocationInfo(userId, locId) {\n      let result = await axios.get(`http://localhost:3000/locations?userId=${userId}&id=${locId}`);\n      let locDetails = [];\n      if (result.status == 200) {\n        locDetails = result.data;\n        this.locName = locDetails[0].name;\n        this.locAddress = locDetails[0].address;\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAUA,OAAOA,MAAK,MAAO,gCAAgC;AAEnD,eAAe;EACXC,IAAI,EAAE,gBAAgB;EACtBC,UAAU,EAAE;IACRF;EACJ,CAAC;EACDG,IAAI,GAAG;IACH,OAAO;MACHC,KAAK,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,UAAU;MACpCC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,UAAU,EAAE;IAChB;EACJ,CAAC;EACDC,QAAQ,EAAE;IACN,GAAGC,QAAQ,CAAC,CACR,iBAAiB,EACjB,kBAAiB,CACpB;EACL,CAAC;EACDC,OAAO,GAAG;IACN,IAAIC,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAC5C,IAAI,CAACF,IAAI,EAAE;MACP;MACA,IAAI,CAACG,UAAU,CAAC;QAAEC,GAAG,EAAE;MAAU,CAAC,CAAC;IACvC,OAAO;MACH,IAAI,CAACV,MAAK,GAAIW,IAAI,CAACC,KAAK,CAACN,IAAI,CAAC,CAACO,EAAE;MACjC,IAAI,CAACC,QAAO,GAAIH,IAAI,CAACC,KAAK,CAACN,IAAI,CAAC,CAACb,IAAI;MACrC,IAAI,CAACsB,oBAAoB,CAAC;QACtBC,QAAQ,EAAE,IAAI,CAAChB,MAAM;QACrBiB,YAAY,EAAE,IAAI,CAACrB;MACvB,CAAC,CAAC;MACF,IAAI,CAACsB,yBAAyB,CAAC;QAC3BF,QAAQ,EAAE,IAAI,CAAChB,MAAM;QACrBiB,YAAY,EAAE,IAAI,CAACrB,KAAK;QACxBuB,cAAc,EAAE;MACpB,CAAC,CAAC;MACF,IAAI,CAACC,eAAe,CAAC,IAAI,CAACpB,MAAM,EAAE,IAAI,CAACJ,KAAK,CAAC;IACjD;EACJ,CAAC;EACDyB,OAAO,EAAE;IACL,GAAGC,YAAY,CAAC,CACZ,gBAAgB,EAChB,sBAAsB,EACtB,2BAA0B,CAC7B,CAAC;IACF,GAAGC,UAAU,CAAC,CAAC,YAAY,CAAC,CAAC;IAC7B,MAAMH,eAAe,CAACpB,MAAM,EAAEJ,KAAK,EAAE;MACjC,IAAI4B,MAAK,GAAI,MAAMC,KAAK,CAACC,GAAG,CAAE,0CAAyC1B,MAAO,OAAMJ,KAAM,EAAC,CAAC;MAC5F,IAAI+B,UAAS,GAAI,EAAE;MACnB,IAAIH,MAAM,CAACI,MAAK,IAAK,GAAG,EAAE;QACtBD,UAAS,GAAIH,MAAM,CAAC7B,IAAI;QACxB,IAAI,CAACM,OAAM,GAAI0B,UAAU,CAAC,CAAC,CAAC,CAAClC,IAAI;QACjC,IAAI,CAACS,UAAS,GAAIyB,UAAU,CAAC,CAAC,CAAC,CAACE,OAAO;MAC3C;IACJ;EACJ;AACJ","names":["Navbar","name","components","data","locId","$route","params","locationId","userId","locName","locAddress","computed","mapState","mounted","user","localStorage","getItem","redirectTo","val","JSON","parse","id","userName","displayAllCategories","userIdIs","locationIdIs","canUserAccessThisLocation","redirectToPage","getLocationInfo","methods","mapMutations","mapActions","result","axios","get","locDetails","status","address"],"sourceRoot":"","sources":["/opt/lampp/htdocs/rest-sys-2021/src/components/Menu/ViewCategories.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <Navbar></Navbar>\n        <router-link :to=\"{name: 'add-new-category', params:{locId:locationId}}\">\n            <button type=\"button\" class=\"btn btn-secondary\">Add Category</button>\n        </router-link>\n    </div>\n</template>\n\n<script>\nimport Navbar from '@/components/Header/Navbar.vue';\n\nexport default {\n    name: 'ViewCategories',\n    components: {\n        Navbar\n    },\n    data() {\n        return {\n            locId: this.$route.params.locationId,\n            userId: \"\",\n            locName: \"\",\n            locAddress: \"\",\n        }\n    },\n    computed: {\n        ...mapState([\n            \"numOfCategories\",\n            \"listOfCategories\"\n        ]),\n    },\n    mounted() {\n        let user = localStorage.getItem('user-info');\n        if (!user) {\n            // Using name in router file\n            this.redirectTo({ val: 'sign-up' });\n        } else {\n            this.userId = JSON.parse(user).id;\n            this.userName = JSON.parse(user).name;\n            this.displayAllCategories({\n                userIdIs: this.userId,\n                locationIdIs: this.locId\n            });\n            this.canUserAccessThisLocation({\n                userIdIs: this.userId,\n                locationIdIs: this.locId,\n                redirectToPage: \"home\",\n            });\n            this.getLocationInfo(this.userId, this.locId);\n        }\n    },\n    methods: {\n        ...mapMutations([\n            \"isLoggedInUser\",\n            \"displayAllCategories\",\n            \"canUserAccessThisLocation\"\n        ]),\n        ...mapActions(['redirectTo']),\n        async getLocationInfo(userId, locId) {\n            let result = await axios.get(`http://localhost:3000/locations?userId=${userId}&id=${locId}`);\n            let locDetails = [];\n            if (result.status == 200) {\n                locDetails = result.data;\n                this.locName = locDetails[0].name;\n                this.locAddress = locDetails[0].address;\n            }\n        },\n    },\n}\n</script>\n\n<style scoped>\n.mb {\n    margin-bottom: 0;\n}\n.mt15 {\n    margin-top: 15px;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}