{"ast":null,"code":"import axios from \"axios\";\nimport Navbar from \"@/components/Header/Navbar.vue\";\nimport AddNewLocation from \"@/components/Locations/AddNewLocation.vue\";\nimport UserLocations from \"@/components/Locations/UserLocations.vue\";\nimport { mapActions } from \"vuex\";\nexport default {\n  name: \"HomeView\",\n  data() {\n    return {\n      userName: \"\",\n      userId: \"\",\n      listOfLocations: []\n    };\n  },\n  components: {\n    Navbar,\n    AddNewLocation,\n    UserLocations\n  },\n  async mounted() {\n    let user = localStorage.getItem('user-info');\n    if (!user) {\n      // Using name in router file\n      this.redirectTo({\n        val: 'sign-up'\n      });\n    } else {\n      this.userName = JSON.parse(user).name;\n      this.userId = JSON.parse(user).id;\n    }\n    let result = await axios.get(`http://localhost:3000/locations?userId=${this.userId}`);\n    if (result.status == 200 && result.data.length > 0) {\n      // console.log(result.data);\n      this.listOfLocations = result.data;\n    }\n  },\n  methods: {\n    ...mapActions([\"redirectTo\"])\n  }\n};","map":{"version":3,"mappings":"AAmBA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,gCAAgC;AACnD,OAAOC,cAAa,MAAO,2CAA2C;AACtE,OAAOC,aAAY,MAAO,0CAA0C;AACpE,SAASC,UAAS,QAAS,MAAM;AACjC,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAI,GAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EACDC,UAAU,EAAE;IAAET,MAAM;IAAEC,cAAc;IAAEC;EAAc,CAAC;EACrD,MAAMQ,OAAO,GAAG;IACd,IAAIC,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAC5C,IAAI,CAACF,IAAI,EAAE;MACT;MACA,IAAI,CAACG,UAAU,CAAC;QAAEC,GAAG,EAAE;MAAU,CAAC,CAAC;IACrC,OAAO;MACL,IAAI,CAACT,QAAO,GAAIU,IAAI,CAACC,KAAK,CAACN,IAAI,CAAC,CAACP,IAAI;MACrC,IAAI,CAACG,MAAK,GAAIS,IAAI,CAACC,KAAK,CAACN,IAAI,CAAC,CAACO,EAAE;IACnC;IACA,IAAIC,MAAK,GAAI,MAAMpB,KAAK,CAACqB,GAAG,CAAE,0CAAyC,IAAI,CAACb,MAAO,EAAC,CAAC;IACrF,IAAIY,MAAM,CAACE,MAAK,IAAK,GAAE,IAAKF,MAAM,CAACd,IAAI,CAACiB,MAAK,GAAI,CAAC,EAAE;MAClD;MACA,IAAI,CAACd,eAAc,GAAIW,MAAM,CAACd,IAAI;IACpC;EACF,CAAC;EACDkB,OAAO,EAAE;IACP,GAAGpB,UAAU,CAAC,CAAC,YAAY,CAAC;EAC9B;AACF,CAAC","names":["axios","Navbar","AddNewLocation","UserLocations","mapActions","name","data","userName","userId","listOfLocations","components","mounted","user","localStorage","getItem","redirectTo","val","JSON","parse","id","result","get","status","length","methods"],"sourceRoot":"","sources":["/opt/lampp/htdocs/rest-sys-2021/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <Navbar />\n    <p class=\"text-end\">\n      Welcome {{ userName }}\n      <router-link :to=\"{ name: 'profile' }\">\n        <button class=\"btn btn-info text-white\" type=\"button\">Profile</button>\n      </router-link>\n    </p>\n    <router-link :to=\"{ name: 'add-new-location' }\">\n    <button type=\"button\" class=\"btn btn-primary\">\n      Add New Restaurant\n    </button>\n  </router-link>\n  <UserLocations :allLocations=\"listOfLocations\"/>\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Navbar from \"@/components/Header/Navbar.vue\";\nimport AddNewLocation from \"@/components/Locations/AddNewLocation.vue\";\nimport UserLocations from \"@/components/Locations/UserLocations.vue\";\nimport { mapActions } from \"vuex\";\nexport default {\n  name: \"HomeView\",\n  data() {\n    return {\n      userName: \"\",\n      userId: \"\",\n      listOfLocations: [],\n    };\n  },\n  components: { Navbar, AddNewLocation, UserLocations },\n  async mounted() {\n    let user = localStorage.getItem('user-info');\n    if (!user) {\n      // Using name in router file\n      this.redirectTo({ val: 'sign-up' });\n    } else {\n      this.userName = JSON.parse(user).name;\n      this.userId = JSON.parse(user).id;\n    }\n    let result = await axios.get(`http://localhost:3000/locations?userId=${this.userId}`);\n    if (result.status == 200 && result.data.length > 0) { \n      // console.log(result.data);\n      this.listOfLocations = result.data;\n    }\n  },\n  methods: {\n    ...mapActions([\"redirectTo\"]),\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}