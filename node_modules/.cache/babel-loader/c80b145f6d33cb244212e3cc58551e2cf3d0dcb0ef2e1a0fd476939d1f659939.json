{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5faade7c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-secondary float-start\"\n}, \"Back To Menu\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"clearfix\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"text-center\"\n};\nconst _hoisted_5 = {\n  class: \"mb0\"\n};\nconst _hoisted_6 = {\n  class: \"text-muted\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center\"\n}, \"Add New Item\", -1 /* HOISTED */));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_10 = {\n  class: \"row g-3 align-items-center\"\n};\nconst _hoisted_11 = {\n  class: \"col-auto d-block mx-auto\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"floatingItemName\"\n}, \"Enter Item Name\", -1 /* HOISTED */));\nconst _hoisted_13 = {\n  key: 0,\n  class: \"error-feedback\"\n};\nconst _hoisted_14 = {\n  class: \"row g-3 align-items-center\"\n};\nconst _hoisted_15 = {\n  class: \"col-auto d-block mx-auto\"\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"floatingItemPrice\"\n}, \"Enter Item Price\", -1 /* HOISTED */));\nconst _hoisted_17 = {\n  key: 0,\n  class: \"error-feedback\"\n};\nconst _hoisted_18 = {\n  class: \"row g-3 align-items-center\"\n};\nconst _hoisted_19 = {\n  class: \"col-auto d-block mx-auto\"\n};\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"floatingItemQty\"\n}, \"Enter Item Quantities\", -1 /* HOISTED */));\nconst _hoisted_21 = {\n  key: 0,\n  class: \"error-feedback\"\n};\nconst _hoisted_22 = {\n  class: \"row g-3 align-items-center\"\n};\nconst _hoisted_23 = {\n  class: \"col-auto d-block mx-auto\"\n};\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"floatingItemDesc\"\n}, \"Enter Item Description\", -1 /* HOISTED */));\nconst _hoisted_25 = {\n  key: 0,\n  class: \"error-feedback\"\n};\nconst _hoisted_26 = {\n  class: \"row g-3 align-items-center\"\n};\nconst _hoisted_27 = {\n  class: \"col-auto d-block mx-auto\"\n};\nconst _hoisted_28 = [\"value\"];\nconst _hoisted_29 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"floatingSelectCat\"\n}, \"Select Category Name\", -1 /* HOISTED */));\nconst _hoisted_30 = {\n  key: 0,\n  class: \"error-feedback\"\n};\nconst _hoisted_31 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_32 = {\n  class: \"row g-3 align-items-center\"\n};\nconst _hoisted_33 = {\n  key: 0,\n  class: \"col-auto d-block mx-auto alert alert-success\"\n};\nconst _hoisted_34 = {\n  key: 1,\n  class: \"col-auto d-block mx-auto alert alert-danger\"\n};\nconst _hoisted_35 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_36 = {\n  class: \"row g-3 align-items-center mb-3\"\n};\nconst _hoisted_37 = {\n  class: \"col-auto d-block mx-auto\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_Navbar), _createVNode(_component_router_link, {\n    to: {\n      name: 'menu',\n      params: {\n        locationId: $data.locationId\n      }\n    }\n  }, {\n    default: _withCtx(() => [_hoisted_2]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h1\", _hoisted_5, _toDisplayString($data.locName), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, _toDisplayString($data.locAddress), 1 /* TEXT */)]), _hoisted_7, _createCommentVNode(\" ------------------------------------- \"), _createElementVNode(\"form\", {\n    onClick: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"prevent\"]))\n  }, [_hoisted_8, _hoisted_9, _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createCommentVNode(\" https://getbootstrap.com/docs/5.0/forms/floating-labels/ \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"form-floating mb-3\", {\n      'form-group--error': $data.v$.itemName.$error\n    }])\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control w300\",\n    id: \"floatingItemName\",\n    placeholder: \"Enter Item Name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.itemName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.itemName, void 0, {\n    trim: true\n  }]]), _hoisted_12, $data.v$.itemName.$error ? (_openBlock(), _createElementBlock(\"span\", _hoisted_13, _toDisplayString($data.v$.itemName.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */)])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"form-floating mb-3\", {\n      'form-group--error': $data.v$.itemPrice.$error\n    }])\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    class: \"form-control w300\",\n    id: \"floatingItemPrice\",\n    placeholder: \"Enter Item Price\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.itemPrice = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.itemPrice, void 0, {\n    trim: true\n  }]]), _hoisted_16, $data.v$.itemPrice.$error ? (_openBlock(), _createElementBlock(\"span\", _hoisted_17, _toDisplayString($data.v$.itemPrice.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */)])]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"form-floating mb-3\", {\n      'form-group--error': $data.v$.itemsQty.$error\n    }])\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    class: \"form-control w300\",\n    id: \"floatingItemQty\",\n    placeholder: \"Enter Item Quantities\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.itemsQty = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.itemsQty, void 0, {\n    trim: true\n  }]]), _hoisted_20, $data.v$.itemsQty.$error ? (_openBlock(), _createElementBlock(\"span\", _hoisted_21, _toDisplayString($data.v$.itemsQty.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */)])]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"form-floating mb-3\", {\n      'form-group--error': $data.v$.description.$error\n    }])\n  }, [_withDirectives(_createElementVNode(\"textarea\", {\n    class: \"form-control w300 h150\",\n    placeholder: \"Enter Item Description\",\n    id: \"floatingItemDesc\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.description = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.description, void 0, {\n    trim: true\n  }]]), _hoisted_24, $data.v$.description.$error ? (_openBlock(), _createElementBlock(\"span\", _hoisted_25, _toDisplayString($data.v$.description.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */)])]), _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"form-floating\", {\n      'form-group--error': $data.v$.pickedCategory.$error\n    }])\n  }, [_withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select w300\",\n    id: \"floatingSelectCat\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.pickedCategory = $event)\n  }, [_createCommentVNode(\" listOfCategories From mapstate  \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.listOfCategories, (cat, i) => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: i,\n      value: cat.id\n    }, _toDisplayString(cat.name), 9 /* TEXT, PROPS */, _hoisted_28);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.pickedCategory, void 0, {\n    trim: true\n  }]]), _hoisted_29, $data.v$.pickedCategory.$error ? (_openBlock(), _createElementBlock(\"span\", _hoisted_30, _toDisplayString($data.v$.pickedCategory.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */)])]), _hoisted_31, _createElementVNode(\"div\", _hoisted_32, [$data.successMessage.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, _toDisplayString($data.successMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.errorMessage.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_34, _toDisplayString($data.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _hoisted_35, _createElementVNode(\"div\", _hoisted_36, [_createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[5] || (_cache[5] = $event => $options.addNewItem()),\n    class: \"btn btn-secondary w300\"\n  }, \"Add Now\")])])]), _createCommentVNode(\" ------------------------------------- \")]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","type","for","_createElementBlock","_hoisted_1","_createVNode","_component_Navbar","_component_router_link","to","name","params","locationId","$data","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createCommentVNode","onClick","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","itemName","$error","id","placeholder","_hoisted_12","_hoisted_13","$errors","$message","_hoisted_14","_hoisted_15","itemPrice","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","itemsQty","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","description","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","pickedCategory","_Fragment","_ctx","cat","i","key","value","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","length","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","$options"],"sourceRoot":"","sources":["/opt/lampp/htdocs/rest-sys-2021/src/components/Menu/AddNewItem.vue"],"sourcesContent":["<template>\n\n    <div class=\"container\">\n\n        <Navbar />\n\n        <router-link :to=\"{name: 'menu', params:{locationId:locationId}}\">\n            <button type=\"button\" class=\"btn btn-secondary float-start\">Back To Menu</button>\n        </router-link>\n\n        <div class=\"clearfix\"></div>\n\n        <div class=\"text-center\">\n            <h1 class=\"mb0\">{{ locName }}</h1>\n            <p class=\"text-muted\">{{ locAddress }}</p>\n        </div>\n\n        <hr/>\n\n        <!-- ------------------------------------- -->\n\n        <form @click.prevent>\n            <h1 class=\"text-center\">Add New Item</h1>\n            <br />\n            <div class=\"row g-3 align-items-center\">\n                <div class=\"col-auto d-block mx-auto\">\n                    <!-- https://getbootstrap.com/docs/5.0/forms/floating-labels/ -->\n                    <div class=\"form-floating mb-3\" :class=\"{ 'form-group--error': v$.itemName.$error }\">\n                        <input type=\"text\" class=\"form-control w300\" id=\"floatingItemName\" placeholder=\"Enter Item Name\" v-model.trim=\"itemName\">\n                        <label for=\"floatingItemName\">Enter Item Name</label>\n                        <span class=\"error-feedback\" v-if=\"v$.itemName.$error\">{{v$.itemName.$errors[0].$message}}</span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row g-3 align-items-center\">\n                <div class=\"col-auto d-block mx-auto\">\n                    <div class=\"form-floating mb-3\" :class=\"{ 'form-group--error': v$.itemPrice.$error }\">\n                        <input type=\"number\" class=\"form-control w300\" id=\"floatingItemPrice\" placeholder=\"Enter Item Price\"\n                            v-model.trim=\"itemPrice\">\n                        <label for=\"floatingItemPrice\">Enter Item Price</label>\n                        <span class=\"error-feedback\" v-if=\"v$.itemPrice.$error\">{{ v$.itemPrice.$errors[0].$message}}</span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row g-3 align-items-center\">\n                <div class=\"col-auto d-block mx-auto\">\n                    <div class=\"form-floating mb-3\" :class=\"{ 'form-group--error': v$.itemsQty.$error }\">\n                        <input type=\"number\" class=\"form-control w300\" id=\"floatingItemQty\" placeholder=\"Enter Item Quantities\" v-model.trim=\"itemsQty\">\n                        <label for=\"floatingItemQty\">Enter Item Quantities</label>\n                        <span class=\"error-feedback\" v-if=\"v$.itemsQty.$error\">{{ v$.itemsQty.$errors[0].$message}}</span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row g-3 align-items-center\">\n                <div class=\"col-auto d-block mx-auto\">\n                    <div class=\"form-floating mb-3\" :class=\"{ 'form-group--error': v$.description.$error }\">\n                        <textarea class=\"form-control w300 h150\" placeholder=\"Enter Item Description\" id=\"floatingItemDesc\" v-model.trim=\"description\"></textarea>\n                        <label for=\"floatingItemDesc\">Enter Item Description</label>\n                        <span class=\"error-feedback\" v-if=\"v$.description.$error\">{{ v$.description.$errors[0].$message}}</span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row g-3 align-items-center\">\n                <div class=\"col-auto d-block mx-auto\">\n                    <div class=\"form-floating\" :class=\"{ 'form-group--error': v$.pickedCategory.$error }\">\n                        <select class=\"form-select w300\" id=\"floatingSelectCat\" v-model.trim=\"pickedCategory\">\n                            <!-- listOfCategories From mapstate  -->\n                            <option v-for=\"(cat, i) in listOfCategories\" :key=\"i\" :value=\"cat.id\">{{ cat.name }}</option>\n                        </select>\n                        <label for=\"floatingSelectCat\">Select Category Name</label>\n                        <span class=\"error-feedback\" v-if=\"v$.pickedCategory.$error\">{{ v$.pickedCategory.$errors[0].$message}}</span>\n                    </div>\n                </div>\n            </div>\n            <br />\n            <div class=\"row g-3 align-items-center\">\n                <div class=\"col-auto d-block mx-auto alert alert-success\" v-if=\"successMessage.length>0\">\n                    {{ successMessage }}\n                </div>\n                <div class=\"col-auto d-block mx-auto alert alert-danger\" v-if=\"errorMessage.length>0\">\n                    {{ errorMessage }}\n                </div>\n            </div>\n            <br />\n            <div class=\"row g-3 align-items-center mb-3\">\n                <div class=\"col-auto d-block mx-auto\">\n                    <button type=\"button\" @click=\"addNewItem()\" class=\"btn btn-secondary w300\">Add Now</button>\n                </div>\n            </div>\n        </form>\n\n        <!-- ------------------------------------- -->\n\n    </div>\n\n</template>\n\n<script>\n\n// To Use HTTP Request\nimport axios from \"axios\";\n// For redirect to links\nimport { mapActions, mapState, mapMutations } from \"vuex\";\n// For validate data\nimport useValidate from \"@vuelidate/core\";\nimport { required, minLength, maxLength, between } from \"@vuelidate/validators\";\nimport Navbar from '@/components/Header/Navbar.vue';\n\nexport default {\n    name: 'AddNewItem',\n    components: {\n        Navbar\n    },\n    data() {\n        return {\n            v$: useValidate(),\n            userId: \"\",\n            userName: \"\",\n            locationId: this.$route.params.locationId,\n            locName: \"\",\n            locAddress: \"\",\n            itemName: \"\",\n            itemPrice: \"\",\n            itemsQty: 1,\n            description: \"\",\n            pickedCategory: \"\",\n            successMessage: \"\",\n            errorMessage: \"\",\n        }\n    },\n    validations() {\n        return {\n            itemName: { required, minLength: minLength(6) },\n            itemPrice: { required, between: between(0,1000000) },\n            itemsQty: { required, between: between(1,100000) },\n            description: { required, minLength: minLength(6), maxLength: maxLength(120) },\n            pickedCategory: { required },\n        }\n    },\n    computed: {\n        ...mapState([\n            \"isUserLoggedIn\",\n            \"LoggedInUserId\",\n            \"numOfCategories\",\n            \"listOfCategories\"\n        ]),\n    },\n    async mounted() {\n        let user = localStorage.getItem('user-info');\n        if (!user) {\n            // Using name in router file\n            this.redirectTo({ val: 'sign-up' });\n        } else {\n            this.userId = JSON.parse(user).id;\n            this.userName = JSON.parse(user).name;\n            this.isLoggedInUser();\n            this.displayAllCategories({\n                userIdIs: this.userId,\n                locationIdIs: this.locationId\n            });\n            this.canUserAccessThisLocation({\n                userIdIs: this.userId,\n                locationIdIs: this.locationId,\n                redirectToPage: \"home\",\n            });\n            this.getLocationInfo(this.userId, this.locationId);\n        }\n    },\n    methods: {\n        ...mapMutations([\n            \"isLoggedInUser\",\n            \"displayAllCategories\",\n            \"canUserAccessThisLocation\"\n        ]),\n        ...mapActions(['redirectTo']),\n        async getLocationInfo(userId, locId) {\n            let result = await axios.get(`http://localhost:3000/locations?userId=${userId}&id=${locId}`);\n            let locDetails = [];\n            if (result.status == 200) {\n                locDetails = result.data;\n                if (locDetails.length>0) {\n                    this.locName = locDetails[0].name;\n                    this.locAddress = locDetails[0].address;\n                }\n            }\n        },\n        async addNewItem() {\n\n            // Activate Validation\n            this.v$.$validate();\n\n            if (!this.v$.$error) {\n\n                let result = await axios.post(`http://localhost:3000/items`, {\n                    name: this.itemName,\n                    // \"17.00\"\n                    price: parseFloat(this.itemPrice).toFixed(2),\n                    qty: parseInt(this.itemsQty),\n                    description: this.description,\n                    catId: this.pickedCategory,\n                    locId: parseInt(this.locationId),\n                    userId: this.userId,\n                });\n\n                if (result.status == 201) {\n\n                    this.errorMessage = '';\n                    this.successMessage = 'Added New Item';\n\n                    setTimeout(() => {\n                        this.$router.push({ name: \"menu\", params: { locationId: this.locationId }});\n                    }, 2000);\n\n                } else {\n                    this.successMessage = '';\n                    this.errorMessage = 'Something went wrong, Try Again';\n                }\n            } \n\n            else {\n                this.successMessage = '';\n                this.errorMessage = 'You must fill in all required fields';\n            }\n\n        },\n    },\n\n}\n</script>\n\n<style scoped>\n.mb0 {\n    margin-bottom: 0;\n}\n.w300{\n    min-width: 300px;\n}\n.h150{\n    min-height: 150px;\n}\n.error-feedback, .form-group--error {\n    color: red;\n    font-size: 0.85em;\n}\n.form-group--error input, .form-group--error textarea, .form-group--error select{\n    border-color: red;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}